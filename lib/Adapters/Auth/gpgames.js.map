{"version":3,"sources":["../../../src/Adapters/Auth/gpgames.js"],"names":["Parse","require","httpsRequest","validateAuthData","authData","response","get","id","access_token","playerId","Error","OBJECT_NOT_FOUND","validateAppId","Promise","resolve","module","exports"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AAAEA,EAAAA;AAAF,IAAYC,OAAO,CAAC,YAAD,CAAzB;;AACA,MAAMC,YAAY,GAAGD,OAAO,CAAC,gBAAD,CAA5B,C,CAEA;;;AACA,eAAeE,gBAAf,CAAgCC,QAAhC,EAA0C;AACxC,QAAMC,QAAQ,GAAG,MAAMH,YAAY,CAACI,GAAb,CACpB,+CAA8CF,QAAQ,CAACG,EAAG,iBAAgBH,QAAQ,CAACI,YAAa,EAD5E,CAAvB;;AAGA,MAAI,EAAEH,QAAQ,IAAIA,QAAQ,CAACI,QAAT,KAAsBL,QAAQ,CAACG,EAA7C,CAAJ,EAAsD;AACpD,UAAM,IAAIP,KAAK,CAACU,KAAV,CACJV,KAAK,CAACU,KAAN,CAAYC,gBADR,EAEJ,iEAFI,CAAN;AAID;AACF,C,CAED;;;AACA,SAASC,aAAT,GAAyB;AACvB,SAAOC,OAAO,CAACC,OAAR,EAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiB;AACfJ,EAAAA,aADe;AAEfT,EAAAA;AAFe,CAAjB","sourcesContent":["/* Google Play Game Services\nhttps://developers.google.com/games/services/web/api/players/get\n\nconst authData = {\n  id: 'playerId',\n  access_token: 'token',\n};\n*/\nconst { Parse } = require('parse/node');\nconst httpsRequest = require('./httpsRequest');\n\n// Returns a promise that fulfills if this user id is valid.\nasync function validateAuthData(authData) {\n  const response = await httpsRequest.get(\n    `https://www.googleapis.com/games/v1/players/${authData.id}?access_token=${authData.access_token}`\n  );\n  if (!(response && response.playerId === authData.id)) {\n    throw new Parse.Error(\n      Parse.Error.OBJECT_NOT_FOUND,\n      'Google Play Games Services - authData is invalid for this user.'\n    );\n  }\n}\n\n// Returns a promise that fulfills if this app id is valid.\nfunction validateAppId() {\n  return Promise.resolve();\n}\n\nmodule.exports = {\n  validateAppId,\n  validateAuthData,\n};\n"],"file":"gpgames.js"}